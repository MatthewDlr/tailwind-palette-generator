<!-- Export Palette Code -->
@if (isExportPopupVisible()) {
  <app-code-export-bloc
    class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"
    [colorPalette]="colorPalette()!"
    (closePopup)="isExportPopupVisible.set(false)"
  ></app-code-export-bloc>
}

<!-- Export Palette Button -->
<button
  type="button"
  class="fixed bottom-10 left-1/2 z-40 flex w-48 -translate-x-1/2 items-center justify-center gap-2 rounded-full border-4 border-white/25 dark:border-black/15 bg-gray-950 py-2.5 font-semibold text-gray-50 dark:text-gray-950 dark:bg-gray-50 dark:hover:bg-gray-100 shadow-sm transition-all duration-300 hover:w-52 hover:bg-gray-800 focus-visible:outline-none"
  (click)="isExportPopupVisible.set(true)"
>
  Export Palette
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="1.75"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="lucide lucide-swatch-book"
  >
    <path d="M11 17a4 4 0 0 1-8 0V5a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2Z" />
    <path d="M16.7 13H19a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H7" />
    <path d="M 7 17h.01" />
    <path d="m11 8 2.3-2.3a2.4 2.4 0 0 1 3.404.004L18.6 7.6a2.4 2.4 0 0 1 .026 3.434L9.9 19.8" />
  </svg>
</button>

<!-- Palette Generator Page -->
<div
  class="relative z-10 flex h-full w-full flex-col items-center gap-10 px-32 py-32 transition-all duration-300 max-2xl:px-28 max-xl:px-24 max-lg:px-20"
  [ngClass]="isExportPopupVisible() ? 'fixed bottom-0 left-0 right-0 top-0 overflow-hidden' : 'overflow-scroll'"
>
  <h1 class="z-10 text-4xl font-bold text-gray-950 dark:text-gray-50">TailwindCSS Color Palette Generator</h1>
  <div class="flex flex-col justify-center gap-3">
    <app-color-picker (hexColor)="selectedColor.set($event)"></app-color-picker>
    <p class="text-center font-light text-gray-800 dark:text-gray-200">{{ colorPalette()?.colorName }}</p>
  </div>

  @if (colorPalette()) {
    <app-palette-row class="mt-10 w-full" [colorPalette]="colorPalette()!"></app-palette-row>

    <app-ui-preview class="mt-16 w-full" [colorPalette]="colorPalette()!"></app-ui-preview>
  }

  <div
    class="absolute top-0 -z-10 h-full w-full bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_110%)] dark:opacity-20"
  ></div>
</div>
